<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Redirecting...</title>

<style>
  body {
    margin: 0;
    padding: 0;
    background: #000;
    color: #fff;
    text-align: center;
    font-family: Arial, sans-serif;
  }

  #loading-container, #app-view {
    position: fixed;
    inset: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background: #000;
  }

  .spinner {
    width: 55px;
    height: 55px;
    border: 4px solid rgba(255,255,255,0.3);
    border-top-color: #fff;
    border-radius: 50%;
    animation: spin 0.7s linear infinite;
  }

  @keyframes spin { to { transform: rotate(360deg); } }

  #app-view { display: none; }

  #logo {
    width: 230px;
    border-radius: 14px;
    margin-bottom: 20px;
  }

  .msg {
    background: rgba(255,255,255,0.15);
    padding: 14px 18px;
    border-radius: 10px;
    max-width: 480px;
    line-height: 1.5;
    margin-top: 15px;
  }

  .fade-in {
    animation: fadeIn .4s ease forwards;
  }

  @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
</style>

<script>
const TARGET_URL = "https://zompamod.github.io";

// كشف الهاتف
const isMobile = /android|iphone|ipad|ipod/i.test(navigator.userAgent);

// كشف WebView (TikTok + Instagram + Facebook + Messenger)
function isInAppBrowser() {
  const ua = navigator.userAgent.toLowerCase();
  return (
    ua.includes("tiktok") ||
    ua.includes("instagram") ||
    ua.includes("fbav") ||
    ua.includes("fb_iab") ||
    ua.includes("fb4a") ||
    ua.includes("fban") ||
    ua.includes("messenger") ||
    ua.includes("bytedance") ||
    ua.includes("aweme") ||
    ua.includes("ttwebview")
  );
}

function showBlockedView() {
  document.getElementById("loading-container").style.display = "none";
  const view = document.getElementById("app-view");
  view.style.display = "flex";
  view.classList.add("fade-in");
}

document.addEventListener("DOMContentLoaded", () => {
  setTimeout(() => {
    if (!isMobile) {
      window.location.href = TARGET_URL;
      return;
    }

    if (isInAppBrowser()) {
      showBlockedView();
    } else {
      window.location.href = TARGET_URL;
    }
  }, 650); // أسرع من النسخة الأصلية
});

// Fallback سريع
setTimeout(() => {
  if (document.getElementById("app-view").style.display === "none") {
    window.location.href = TARGET_URL;
  }
}, 2500);
</script>

</head>
<body>

<div id="loading-container">
  <div class="spinner"></div>
  <div class="loading-text">Checking browser...</div>
</div>

<div id="app-view">
  <img id="logo" src="https://www9.0zz0.com/2024/04/06/13/548511907.gif" alt="Logo">
  <p class="msg"><strong>Please open this link in your browser (Safari / Chrome) to continue.</strong></p>
</div>

</body>
</html>
